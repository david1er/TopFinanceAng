<div class="container-fluid">

  <!--page title-->
  <div class="page-title mb-4 d-flex align-items-center">
    <div class="mr-auto">
      <h4 class="weight500 d-inline-block pr-3 mr-3 border-right">Nouveau Client</h4>
      <nav aria-label="breadcrumb" class="d-inline-block ">
        <ol class="breadcrumb p-0">
          <li class="breadcrumb-item"><a routerLink="/acceuil">Acceuil</a></li>
          <li class="breadcrumb-item"><a routerLink="/list_client">Clients</a></li>
          <li class="breadcrumb-item active" aria-current="page">Nouveau Client</li>
        </ol>
      </nav>
    </div>
  </div>
  <!--/page title-->

  <div class="card card-shadow mb-4">
    <div class="card-header border-0">
      <div class="custom-title-wrap bar-warning">
        <div class="custom-title">Ajouter un nouveau Client</div>
      </div>
    </div>
    <div class="card-body">
      <form [formGroup]="reactiveForm">

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Nom & Prénoms</label>
          <div class="col-sm-9">
            <input type="text" name="nom_client" id="nom_client" formControlName="nom_client" class="form-control">
            <div *ngIf="reactiveForm.controls.nom_client.errors && (reactiveForm.controls.nom_client.touched || reactiveForm.controls.nom_client.dirty)" style=color:red;>
              <div *ngIf="reactiveForm.hasError('required','nom_client')">
                nom_client est obligatoire.
              </div>
              <div *ngIf="reactiveForm.hasError('pattern','nom_client')">
                Format incorrect
              </div>
              <div *ngIf="reactiveForm.hasError('minLength','nom_client')">
                nom_client doit avoir au moins 3 caracteres
              </div>
            </div>

          </div>
        </div>

        <div class="row">
          <div class="col-sm-3">Sexe</div>
          <div class="col-sm-9">
            <div class="form-check">
              <label class="form-check-label">
                <input class="form-check-input" type="radio" name="sexe_client" formControlName="sexe_client" value="M" checked="">
                Masculin
              </label>
            </div>
            <div class="form-check">
              <label class="form-check-label">
                <input class="form-check-input" type="radio" name="sexe_client" formControlName="sexe_client" value="F">
                Féminin
              </label>
            </div>

            <div *ngIf="reactiveForm.controls.sexe_client.errors && (reactiveForm.controls.sexe_client.touched || reactiveForm.controls.sexe_client.dirty)" style=color:red;>
              <div *ngIf="reactiveForm.hasError('required','sexe_client')">
                Veuillez choisir le sexe.
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Date de Naissance</label>
          <div class="col-sm-9">
            <input type="date" name="date_nais" id="date_nais" formControlName="date_nais" class="form-control">
            <div *ngIf="reactiveForm.controls.date_nais.errors && (reactiveForm.controls.date_nais.touched || reactiveForm.controls.date_nais.dirty)" style=color:red;>
              <div *ngIf="reactiveForm.hasError('required','date_nais')">
                date_nais est obligatoire.
              </div>

            </div>

          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Profession</label>
          <div class="col-sm-9">
            <input type="text" name="profession" id="profession" formControlName="profession" class="form-control">

          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Quartier</label>
          <div class="col-sm-9">
            <input type="text" name="quartier" id="quartier" formControlName="quartier" class="form-control">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Email</label>
          <div class="col-sm-9">
            <input type="text" name="email_client" id="email_client" formControlName="email_client" class="form-control">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Numero CNI</label>
          <div class="col-sm-9">
            <input type="text" name="numero_cni" id="numero_cni" formControlName="numero_cni" class="form-control">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Télephone</label>
          <div class="col-sm-9">
            <input type="text" name="telephone" id="telephone" formControlName="telephone" class="form-control">
          </div>
        </div>

        <div class="form-group">
          <label class="control-label">Photo:</label>
          <input type="file" accept=".jpg" (change)="selectFile($event)" name="photo" formControlName="photo" >
          {{progress}}
        </div>

        <!--<div class="form-group">
          <label for="signature" class="control-label">Signature:</label>
          <input type="file" name="signature" id="signature" formControlName="signature" >
        </div>-->

        <div class="form-group row">
          <div class="col-sm-12 text-center">
            <button type="reset" (click)="errorSuccess()" class="btn btn-outline-warning form-pill" >Annuler</button>
            <button type="submit" [disabled]="!reactiveForm.valid" class="btn btn-outline-primary form-pill" (click)="onSaveCompte(reactiveForm.value)">Enrégistrer</button>
          </div>
        </div>
      </form>
    </div>
  </div>

</div>



